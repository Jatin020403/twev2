(this.webpackJsonptwev2=this.webpackJsonptwev2||[]).push([[0],{103:function(e,t,a){},104:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a(1),s=a.n(n),l=a(42),i=a.n(l),r=a(3),o=a(20),d=a(8);a(51);var b=function(){return Object(c.jsx)("nav",{className:"navbar navbar-dark sticky-top flex-md-nowrap p-0 mb-0",children:Object(c.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-toggle":"collapse","data-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(c.jsx)("span",{className:"navbar-toggler-icon"})})})},j=(a(52),a(105)),m=a(106),h=a(107),u=a(108),p=a(109),x=a(110),g=a(111),O=a(112);var f=function(e){var t=e.page;return Object(c.jsxs)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block sidebar collapse",children:[Object(c.jsx)("div",{className:"align-items-center",children:Object(c.jsx)("a",{className:"navbar-brand mr-0",href:"/",children:Object(c.jsx)("img",{src:"../img/twe_logo.png",alt:"The Weekly Edge Logo"})})}),Object(c.jsx)("div",{className:"sidebar-sticky",children:Object(c.jsxs)("ul",{className:"nav flex-column",children:[Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:t?"nav-link":"nav-link active",href:"/dashboard",children:[Object(c.jsxs)("span",{className:t?"feather":"feather active",children:[Object(c.jsx)(j.a,{})," "]}),"Home"]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"extras"===t?"nav-link active":"nav-link",href:"/dashboard/extras",children:[Object(c.jsxs)("span",{className:"feather",children:[Object(c.jsx)(m.a,{})," "]}),"Extras"]})}),Object(c.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(c.jsx)("span",{children:"Articles"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"new article"===t?"nav-link active":"nav-link",href:"/dashboard/new article",children:[Object(c.jsxs)("span",{className:"feather",children:[" ",Object(c.jsx)(h.a,{})," "]}),"New Article"]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"your articles"===t?"nav-link active":"nav-link",href:"/dashboard/your articles",children:[Object(c.jsxs)("span",{className:"feather",children:[Object(c.jsx)(u.a,{})," "]}),"Your Articles"]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"all articles"===t?"nav-link active":"nav-link",href:"/dashboard/all articles",children:[Object(c.jsxs)("span",{className:"feather",children:[Object(c.jsx)(p.a,{})," "]}),"All Articles"]})}),Object(c.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(c.jsx)("span",{children:"Edition"})}),"admin"===e.valid&&Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"create edition"===t?"nav-link active":"nav-link",href:"/dashboard/create edition",children:[Object(c.jsxs)("span",{className:"feather",children:[" ",Object(c.jsx)(x.a,{})," "]}),"Create Edition"]})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"previous editions"===t?"nav-link active":"nav-link",href:"/dashboard/previous editions",children:[Object(c.jsxs)("span",{className:"feather",children:[" ",Object(c.jsx)(g.a,{})," "]}),"Previous Editions"]})}),Object(c.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(c.jsx)("span",{children:"Additional"})}),Object(c.jsx)("li",{className:"nav-item",children:Object(c.jsxs)("a",{className:"signout"===t?"nav-link active":"nav-link",href:"/dashboard/signout",children:[Object(c.jsxs)("span",{className:"feather",children:[" ",Object(c.jsx)(O.a,{})," "]}),"Sign out"]})})]})})]})},v=a(11),N=a.n(v),k=(a(56),a(5)),y=a.n(k),w=a(4),C=a.n(w),A=a(113);a(26);var S=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(n.useEffect)((function(){y.a.get("https://thepc-bknd.onrender.com/api/messages/allMessages",{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){console.log(e.data),s(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.jsxs)("div",{className:"animate__animated animate__fadeIn",children:[Object(c.jsx)("center",{}),Object(c.jsx)("h3",{children:"Important Messages"}),Object(c.jsx)("div",{className:"body-top",children:0===a.length?Object(c.jsxs)("div",{className:"badge badge-dark badge-md badge-comment",children:[Object(c.jsxs)("span",{className:"feather",children:[Object(c.jsx)(A.a,{className:"mb-1 mr-1"})," "]})," ","No messages!"]}):a.map((function(e){return Object(c.jsxs)("div",{className:"card mt-1 card-comment",children:[Object(c.jsxs)("p",{className:"card-title",children:[" ",e.message]}),Object(c.jsxs)("p",{className:"text-muted",children:[Object(c.jsx)("small",{children:e.createdBy.name})," "]})]})}))})]})},E=a(16),_=a(6),T=a(9),P=a.n(T),F=(a(17),a(7)),B=a.n(F),Y=(a(40),a(22)),z=a.n(Y);var U=function(){var e=Object(n.useState)({}),t=Object(r.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(""),i=Object(r.a)(l,2),o=i[0],d=i[1],b=Object(n.useState)(0),j=Object(r.a)(b,2),m=j[0],h=j[1],u=Object(n.useState)(0),p=Object(r.a)(u,2),x=p[0],g=p[1];function O(e){var t=e.target,a=t.name,c=t.value;0===m?s((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(E.a)({},a,c))})):1===m&&d(c)}function f(e){h(e),g(1),0===e?(s((function(e){return Object(_.a)(Object(_.a)({},e),{},{securityAnswer:z()(e.securityAnswer)})})),y.a.post("https://thepc-bknd.onrender.com/api/user/securityQuestion/add",P.a.stringify(a),{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer "+C.a.get("token")}}).then((function(e){g(2)})).catch((function(e){g(3)})).finally((function(){2===x&&setTimeout((function(){return g(0)}),1e3)}))):1===e&&y.a.post("https://thepc-bknd.onrender.com/api/messages/post",P.a.stringify({message:o}),{headers:{"Content-type":"application/x-www-form-urlencoded",Authorization:"Bearer "+C.a.get("token")}}).then((function(e){g(2)})).catch((function(e){g(3)})).finally((function(){2===x&&setTimeout((function(){return g(0)}),1e3)}))}return Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("h3",{children:"Security"}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"securityQuestion",id:"inputEmail",className:"form-control",placeholder:"Security Question",autoFocus:!0,onChange:O,onClick:function(){return h(0)}})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"securityAnswer",id:"inputEmail",className:"form-control",placeholder:"Security Answer",onChange:O,onClick:function(){return h(0)}})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"email",name:"email",id:"inputEmail",className:"form-control",placeholder:"Email Address",onChange:O,onClick:function(){return h(0)}})}),0===x||2===x?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return f(0)},children:"Set Q&A"}):1===x&&0===m?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===x&&0===m&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return f(0)},children:"Try Again"}),2===x&&0===m&&Object(c.jsx)("div",{className:"alert alert-success",children:"Your security preference is updated!"})]}),Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsx)("h3",{children:"Admin Messages"}),Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("textarea",{name:"message",id:"inputContent",className:"form-control",placeholder:"Security Answer",rows:"6",onChange:O,onClick:function(){return h(1)}}),0===x||2===x?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return f(1)},children:"Post message"}):1===x&&1===m?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===x&&1===m&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return f(1)},children:"Try Again"}),2===x&&1===m&&Object(c.jsx)("div",{className:"alert alert-success",children:"Your message was posted!"})]})]})]})})},I=a(114),M=a(115),R=a(116),L=a(117),D=a(118),H=a(119),V=a(120),W=a(43),Q=a.n(W);var J=function(e){var t=new Q.a,a=Object(n.useState)(0),l=Object(r.a)(a,2),i=l[0],o=l[1],d=Object(n.useState)(0),b=Object(r.a)(d,2),j=b[0],m=b[1],h=Object(n.useState)(""),u=Object(r.a)(h,2),p=u[0],x=u[1],g=Object(n.useState)(),O=Object(r.a)(g,2),f=O[0],v=O[1],k=Object(n.useState)("news"),w=Object(r.a)(k,2),S=w[0],T=w[1],F=Object(n.useState)({atitle:"Untitled",atype:"news",acontent:"",collabEmail:""}),Y=Object(r.a)(F,2),z=Y[0],U=Y[1];function I(a){if(a.preventDefault(),1===i)""!==z.atype&&""!==z.acontent&&"Untitled"!==z.atitle?(console.log(z),m(1),y.a.patch("https://thepc-bknd.onrender.com/api/articles/"+e.newarticle._id,P.a.stringify(z),{headers:{Authorization:"Bearer "+C.a.get("token"),"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){m(2),U({atitle:"Untitled",atype:"news",acontent:"",collabEmail:""})})).catch((function(e){console.log(e),m(3)})).finally((function(){2===j&&setTimeout((function(){return m(0)}),1e3)}))):(m(3),""===z.atype&&x("Please select the type of article."),"Untitled"===z.atitle&&x("Uh-oh! Your article title is empty."),""===z.acontent&&x("You are missing the article content!"));else{if(""!==z.atype&&""!==z.acontent&&"Untitled"!==z.atitle)if(void 0!==f){m(1);for(var c=0,n=Object.entries(z);c<n.length;c++){var s=Object(r.a)(n[c],2),l=s[0],o=s[1];t.append(l,o)}t.append("picture",f,f.name),y.a.post("https://thepc-bknd.onrender.com/api/articles",t,{headers:{Authorization:"Bearer "+C.a.get("token"),"Content-Type":"multipart/form-data; boundary=".concat(t._boundary)}}).then((function(e){m(2),U({atitle:"Untitled",atype:"news",acontent:"",collabEmail:""})})).catch((function(e){console.log(e),m(3)})).finally((function(){2===j&&setTimeout((function(){return m(0)}),1e3)}))}else m(3),x("Look's like you forgot to upload a photo!");else m(3),""===z.atype&&x("Please select the type of article."),"Untitled"===z.atitle&&x("Uh-oh! Your article title is empty."),""===z.acontent&&x("You are missing the article content!");console.log(z)}}function M(e){var t=e.target.name,a=e.target.value;U((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(E.a)({},t,a))}))}return s.a.useEffect((function(){e.newarticle&&(o(1),T(e.newarticle.atype),U((function(t){return Object(_.a)(Object(_.a)({},t),{},{atitle:e.newarticle.atitle,atype:e.newarticle.atype,acontent:e.newarticle.acontent})})))}),[e.newarticle]),Object(c.jsx)("div",{children:Object(c.jsx)("div",{className:"animate__animated animate__fadeIn",children:Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("form",{children:[Object(c.jsx)("div",{className:"btn-group",children:["news","editorial","movie","satire","facts"].map((function(e){return Object(c.jsx)("span",{className:S===e?"badge badge-pill badge-lg badge-dark mt-0 mr-1 active":"badge badge-pill badge-lg badge-dark mt-0 mr-1",onClick:function(){!function(e){U((function(t){return Object(_.a)(Object(_.a)({},t),{},{atype:e})}))}(e),T(e)},children:N.a.upperCase(e)})}))}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"atitle",id:"inputArticle",className:"form-control",placeholder:"Untitled",value:"Untitled"!==z.atitle?z.atitle:"",autoFocus:!0,onChange:M})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"collabEmail",id:"inputEmail",className:"form-control",placeholder:"Collaborating Author's Email",value:z.collabEmail,onChange:M})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("textarea",{name:"acontent",id:"inputContent",className:"form-control ",rows:"10",placeholder:"Start typing...",value:"Untitled"!==z.acontent&&z.acontent,onChange:M})}),0===i&&Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"file",id:"myfile",name:"myfile",onChange:function(e){var t=e.target.files[0];v(t)},className:"file-input"})}),0===j||2===j?Object(c.jsx)("button",{className:"btn btn-lg btn-block btn-dark btn-login btn-pink text-uppercase font-weight-bold mb-2 mt-5",type:"submit",onClick:I,children:0===i?"Submit Article":"Save Changes"}):1===j?Object(c.jsxs)("button",{className:"btn btn-lg btn-block btn-outline-dark btn-login btn-pink text-uppercase font-weight-bold mb-2 mt-5",type:"submit",onClick:I,children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===j&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2 mt-5",type:"submit",onClick:I,children:"Try Again"}),Object(c.jsxs)("div",{className:"form-group",children:[3===j&&Object(c.jsxs)("div",{className:"alert alert-danger",children:[" ",Object(c.jsx)(A.a,{className:"mb-1"})," ",p]}),2===j&&0===i&&Object(c.jsx)("div",{className:"alert alert-success",children:"Yay! Your article was submitted!"}),2===j&&1===i&&Object(c.jsx)("div",{className:"alert alert-success",children:"Yay! Your article was edited!"}),1===j&&Object(c.jsx)("div",{className:"alert alert-warning",children:"Please bare with me. This may take a while."})]})]})})})})};var G=function(e){var t=e.articlesProps,a=e.valid,s=Object(n.useState)({comments:[]}),l=Object(r.a)(s,2),i=l[0],o=l[1],d=Object(n.useState)(""),b=Object(r.a)(d,2),j=b[0],m=b[1],h=Object(n.useState)(),u=Object(r.a)(h,2),p=u[0],x=u[1],g=Object(n.useState)("All"),O=Object(r.a)(g,2),f=O[0],v=O[1],k=Object(n.useState)(0),w=Object(r.a)(k,2),S=w[0],E=w[1];function _(e){o(e)}function T(e){x(e);var t=e;switch(E(1),e){case"approved":case"rejected":y.a.patch("https://thepc-bknd.onrender.com/api/articles/"+i._id,P.a.stringify({atitle:i.atitle,atype:i.atype,acontent:i.acontent,approved:t}),{headers:{Authorization:"Bearer "+C.a.get("token"),"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){E(2)})).catch((function(e){console.log(e),E(3)}));break;case"trash":y.a.delete("https://thepc-bknd.onrender.com/api/articles/"+i._id,{headers:{Authorization:"Bearer "+C.a.get("token")}},P.a.stringify({})).then((function(e){e.status&&E(2)})).catch((function(e){console.log(e),E(3)}));break;case"comment":y.a.post("https://thepc-bknd.onrender.com/api/articles/comment/"+i._id,P.a.stringify({comment:j}),{headers:{Authorization:"Bearer "+C.a.get("token"),"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){E(2)})).catch((function(e){console.log(e),E(3)})).finally((function(){setTimeout((function(){return E(0)}),1e3)}))}}return Object(c.jsxs)("div",{className:"container-fluid ",children:[Object(c.jsxs)("div",{className:"row btn-group",children:[Object(c.jsx)("span",{className:"All"===f?"badge badge-pill badge-lg badge-dark mt-0 mr-1 active":"badge badge-pill badge-lg badge-dark mt-0 mr-1",onClick:function(){return v("All")},children:N.a.upperCase("All")}),["news","editorial","movie","satire","facts"].map((function(e){return Object(c.jsx)("span",{className:f===e?"badge badge-pill badge-lg badge-dark mt-0 mr-1 active":"badge badge-pill badge-lg badge-dark mt-0 mr-1",onClick:function(){return v(e)},children:N.a.upperCase(e)})}))]}),t?Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)("div",{className:"col-md-3 left animate__animated animate__fadeIn animate__fast",children:0!==t.length||void 0!==t?t.map((function(e){return"All"===f?Object(c.jsx)("div",{className:"card mb-3",onClick:function(){_(e)},children:Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("div",{className:"card-right",children:[Object(c.jsx)("span",{className:"badge badge-pill badge-dark mt-0 mr-1",children:N.a.upperCase(e.atype)}),e.editionNumber?Object(c.jsx)("span",{className:"badge badge-pill badge-primary mt-0 mr-1",children:e.editionNumber}):"approved"===e.approved&&null!==e.editionNumber||2===S&&"approved"===p?Object(c.jsx)("span",{className:"badge badge-pill badge-success mt-0 mr-1",children:"A"}):"pending"===e.approved?Object(c.jsxs)("span",{className:"badge badge-pill badge-warning mt-0 mr-1",children:[" ",Object(c.jsx)(I.a,{color:"#fff"})," "]}):"rejected"===e.approved||2===S&&"rejected"===p?Object(c.jsx)("span",{className:"badge badge-pill badge-danger mt-0 mr-1",children:"X"}):null,Object(c.jsx)("h5",{className:"card-title",children:e.atitle}),Object(c.jsxs)("p",{className:"text-muted mb-0 mt-0",children:[Object(c.jsxs)("small",{children:[e.authorName," ",e.collabAuthorName&&" and "+e.collabAuthorName]})," "]})]})})}):e.atype===f?Object(c.jsx)("div",{className:"card mb-3",onClick:function(){_(e)},children:Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("div",{className:"card-right",children:[Object(c.jsx)("span",{className:"badge badge-pill badge-dark mt-0 mr-1",children:N.a.upperCase(e.atype)}),e.editionNumber?Object(c.jsx)("span",{className:"badge badge-pill badge-primary mt-0 mr-1",children:e.editionNumber}):"approved"===e.approved?Object(c.jsx)("span",{className:"badge badge-pill badge-success mt-0 mr-1",children:"A"}):Object(c.jsxs)("span",{className:"badge badge-pill badge-warning mt-0 mr-1",children:[" ",Object(c.jsx)(I.a,{color:"#fff"})," "]}),Object(c.jsx)("h5",{className:"card-title",children:e.atitle}),Object(c.jsxs)("p",{className:"text-muted mb-0 mt-0",children:[Object(c.jsxs)("small",{children:[e.authorName," ",e.collabAuthorName&&" and "+e.collabAuthorName]})," "]})]})})}):void 0})):Object(c.jsx)("h1",{children:"You have not written your first article yet!"})}),Object(c.jsx)("div",{className:"col-md-9 right animate__animated animate__fadeIn",children:i.atitle?Object(c.jsxs)("div",{className:"animate__animated animate__fadeIn animate__fast",children:[Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("center",{children:[Object(c.jsx)("img",{src:"https://thepc-bknd.onrender.com/api/articles/"+i._id+"/picture",className:"img-responsive",alt:i.atitle}),1!==S?Object(c.jsxs)("span",{className:"badge badge-md badge-pill mt-2 mr-0 badge-dark badge-tools",children:["admin"===a&&Object(c.jsxs)("span",{className:"badge badge-pill badge-md icon",children:[" ",Object(c.jsx)(R.a,{className:"check",name:"approve",onClick:function(){return T("approved")}})," "]}),"admin"===a&&Object(c.jsxs)("span",{className:"badge badge-pill badge-md icon",children:[" ",Object(c.jsx)(L.a,{className:"x",onClick:function(){return T("rejected")}})," "]}),i.author===C.a.get("id")&&Object(c.jsxs)("span",{className:"badge badge-pill badge-md icon",children:[" ",Object(c.jsx)(D.a,{className:"pencil","data-toggle":"modal","data-target":"#exampleModal"})," "]}),i.author===C.a.get("id")&&Object(c.jsxs)("span",{className:"badge badge-pill badge-md icon",children:[" ",Object(c.jsx)(H.a,{className:"trash",onClick:function(){return T("trash")}})," "]}),Object(c.jsxs)("span",{className:"badge badge-pill badge-md icon",children:[" ",Object(c.jsx)(V.a,{className:"comment","data-toggle":"modal","data-target":"#commentsModal"})]})]}):Object(c.jsx)("span",{className:"badge badge-md badge-pill mt-2 mr-0 badge-dark badge-tools",children:Object(c.jsx)(B.a,{type:"Audio",color:"#ff1e56",width:"2rem",height:"2rem"})})]})}),Object(c.jsxs)("div",{className:"container-fluid",children:[Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"float-left",children:[Object(c.jsx)("span",{className:"badge badge-md badge-pill badge-dark mt-2 mr-1",children:N.a.upperCase(i.atype)}),i.editionNumber?Object(c.jsx)("span",{className:"badge badge-md badge-pill badge-primary mt-2 mr-1",children:i.editionNumber}):"approved"===i.approved?Object(c.jsx)("span",{className:"badge badge-md badge-pill badge-success mt-2 mr-1",children:"A"}):"pending"===i.approved?Object(c.jsxs)("span",{className:"badge badge-md badge-pill badge-warning mt-2 mr-1",children:[" ",Object(c.jsx)(I.a,{color:"#fff"})," "]}):"rejected"===i.approved&&Object(c.jsx)("span",{className:"badge badge-pill badge-md badge-danger mt-0 mr-1",children:"REJECTED"}),"trash"===p&&2===S&&Object(c.jsx)("span",{className:"badge badge-pill badge-md badge-danger mt-0 mr-1",children:N.a.upperCase("deleted")}),"approved"===p&&2===S&&Object(c.jsx)("span",{className:"badge badge-pill badge-md badge-success mt-0 mr-1",children:N.a.upperCase("approved")}),"edit"===p&&2===S&&Object(c.jsx)("span",{className:"badge badge-pill badge-md badge-info mt-0 mr-1",children:N.a.upperCase("edited")}),"rejected"===p&&2===S&&Object(c.jsx)("span",{className:"badge badge-pill badge-md badge-danger mt-0 mr-1",children:N.a.upperCase("rejected")})]}),Object(c.jsx)("div",{className:"float-right"})]}),Object(c.jsx)("h2",{className:"title",children:i.atitle}),Object(c.jsxs)("h5",{className:"text-light",children:[i.authorName," ",i.collabAuthorName&&" and "+i.collabAuthorName]})]})]}),Object(c.jsx)("div",{className:"",children:Object(c.jsx)("div",{class:"container-fluid container-content",children:Object(c.jsx)("p",{className:"content",children:i.acontent})})})]}):Object(c.jsx)("div",{className:"container-articles",children:0!==t.length?Object(c.jsxs)("h1",{className:"mt-5",children:[Object(c.jsxs)("span",{children:[Object(c.jsx)(M.a,{})," "]}),"Click on any article to view it!"]}):Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"You have not submitted your first article yet!"}),Object(c.jsx)("a",{href:"/dashboard/new article",children:Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block",children:"Submit an Article"})})]})})})]}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("div",{class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{class:"modal-dialog modal-xl",children:Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsxs)("div",{class:"modal-header",children:[Object(c.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:"Edit Article"}),Object(c.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{class:"modal-body",children:Object(c.jsx)(J,{newarticle:i})})]})})}),Object(c.jsx)("div",{class:"modal fade",id:"commentsModal",tabindex:"-1","aria-labelledby":"commentModalLabel","aria-hidden":"true",children:Object(c.jsx)("div",{class:"modal-dialog modal-lg",children:Object(c.jsxs)("div",{class:"modal-content",children:[Object(c.jsxs)("div",{class:"modal-header",children:[Object(c.jsx)("h5",{class:"modal-title",id:"exampleModalLabel",children:i.atitle}),Object(c.jsx)("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",children:Object(c.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(c.jsx)("div",{class:"modal-body body-top",children:i&&0===i.comments.length?Object(c.jsxs)("div",{className:"badge badge-dark badge-md badge-comment",children:[Object(c.jsxs)("span",{className:"feather",children:[Object(c.jsx)(A.a,{className:"mb-1 mr-1"})," "]})," ","Nobody has commented on this article yet!"]}):i.comments.map((function(e){return Object(c.jsxs)("div",{className:"card mt-1 card-comment",children:[Object(c.jsxs)("p",{className:"card-title",children:[" ",e.comment]}),Object(c.jsx)("p",{className:"text-muted",children:e.createdBy})]})}))}),Object(c.jsx)("div",{className:"modal-body border-top",children:Object(c.jsxs)("div",{className:"form-group",children:[Object(c.jsx)("input",{type:"text",name:"comment",id:"comment",className:"form-control",placeholder:"New comment",onChange:function(e){var t=e.target.value;m(t)},autoFocus:!0}),0===S||2===S?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return T("comment")},children:"Comment"}):1===S?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-pink text-uppercase font-weight-bold mb-1 mt-3",children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===S&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-1 mt-3",type:"submit",onClick:function(){return T("comment")},children:"Try Again"}),2===S&&Object(c.jsx)("div",{className:"alert alert-success",children:"Commented!"})]})})]})})})]})};var X=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(),d=Object(r.a)(o,2),b=d[0],j=d[1],m=Object(n.useState)(),h=Object(r.a)(m,2),u=h[0],p=h[1],x=Object(n.useState)(!0),g=Object(r.a)(x,2),O=g[0],f=g[1];return s.a.useEffect((function(){y.a.get("https://catfact.ninja/fact?max_length=240",{headers:{Accept:"application/json"}}).then((function(e){p(e.data.fact)}))}),[]),s.a.useEffect((function(){O&&y.a.get("https://thepc-bknd.onrender.com/api/admin/allarticles",{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){j(e.data),i(!1),f(!1)})).catch((function(e){console.log(e),i(!1),f(!1)}))}),[]),Object(c.jsxs)("div",{className:"container",children:[l&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"Random Fact while you wait:"}),Object(c.jsx)("br",{}),Object(c.jsx)("h6",{style:{width:"50%"},children:u}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"container-articles mt-0",children:Object(c.jsx)("div",{className:"loader mt-0",children:Object(c.jsx)(B.a,{type:"TailSpin",color:"#ff1e56",height:100,width:100,timeout:3e4})})})]}),!l&&Object(c.jsx)(G,{articlesProps:b,valid:e.valid})]})},q=a(45);a(97);var K=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],l=t[1],i=Object(n.useState)(0),o=Object(r.a)(i,2),d=o[0],b=o[1],j=Object(n.useState)("Error"),m=Object(r.a)(j,2),h=m[0],u=m[1],p=Object(n.useState)({enumber:"",ename:"",edesc:"",hov:"",articles:[]}),x=Object(r.a)(p,2),g=x[0],O=x[1],f=Object(n.useState)(!0),v=Object(r.a)(f,2),k=v[0],w=v[1],A=Object(n.useState)({}),S=Object(r.a)(A,2),T=S[0],P=S[1];function F(e){var t=e.target,a=t.name,c=t.value;"hov"===a&&l(c),O((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(E.a)({},a,c))}))}function Y(){b(1),y.a.post("https://thepc-bknd.onrender.com/api/edition/create",g,{headers:{Authorization:"Bearer "+C.a.get("token"),"Content-type":"application/json"}}).then((function(e){console.log(e),b(2),O({enumber:"",ename:"",edesc:"",hov:"",articles:[]})})).catch((function(e){u(e.body),console.log(e),b(3)})),console.log(g)}return s.a.useEffect((function(){y.a.get("https://thepc-bknd.onrender.com/api/approvedArticles",{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){P(e.data),w(!1)})).catch((function(e){console.log(e),w(!0)}))}),[]),Object(c.jsxs)("div",{className:"container container-edition animate__animated animate__fadeIn",children:[Object(c.jsx)("center",{children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-6",children:[Object(c.jsxs)("div",{className:"row no-gutters",children:[Object(c.jsx)("div",{className:"col-sm-2",children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"enumber",id:"inputArticle",className:"form-control",placeholder:"E. No.",autoFocus:!0,onChange:F})})}),Object(c.jsx)("div",{className:"col-sm-10",children:Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"ename",id:"inputArticle",className:"form-control",placeholder:"Untitled",onChange:F})})})]}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("input",{type:"text",name:"hov",id:"inputEmail",className:"form-control",placeholder:"HoV Link",onChange:F})}),Object(c.jsx)("div",{className:"form-group",children:Object(c.jsx)("textarea",{name:"edesc",id:"inputContent",className:"form-control ",rows:"4",placeholder:"Edition Description",onChange:F})})]}),Object(c.jsx)("div",{className:"col-md-6",children:Object(c.jsx)("div",{className:"form-group",children:""!==a?Object(c.jsx)("iframe",{src:a,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):Object(c.jsx)("div",{name:"acontent",id:"preview",className:"form-control",children:"VIDEO PREVIEW"})})})]})}),Object(c.jsxs)("div",{className:"article-list",children:[k&&Object(c.jsxs)("div",{className:"loader mt-0",children:[Object(c.jsx)(B.a,{type:"TailSpin",color:"#ff1e56",height:100,width:100,timeout:3e4}),Object(c.jsx)("p",{children:"Fetching Articles..."})]}),!k&&T.map((function(e){if("approved"===e.approved&&void 0===e.editionNumber){var t=g.articles.some((function(t){return t===e._id}));return Object(c.jsx)("div",{className:"card mb-3 mr-5",onClick:function(){return function(e){if(g.articles.some((function(t){return t===e}))){var t=g.articles,a=t.indexOf(e);t.splice(a,1),O((function(e){return Object(_.a)(Object(_.a)({},e),{},{articles:t})}))}else O((function(t){return Object(_.a)(Object(_.a)({},t),{},{articles:[].concat(Object(q.a)(t.articles),[e])})}))}(e._id)},children:Object(c.jsx)("div",{className:"",children:Object(c.jsxs)("div",{className:"card-right",children:[Object(c.jsx)("span",{className:"badge badge-pill badge-dark mt-0 mr-1",children:N.a.upperCase(e.atype)}),t&&Object(c.jsx)("span",{className:"badge badge-pill badge-primary mt-0 mr-1",children:g.enumber}),Object(c.jsx)("h5",{className:"card-title",children:e.atitle}),Object(c.jsxs)("p",{className:"text-muted",children:[Object(c.jsxs)("small",{children:[e.authorName," ",e.collabAuthorName&&" and "+e.collabAuthorName]})," "]})]})})})}}))]}),0===d?Object(c.jsx)("button",{className:"btn btn-lg btn-block btn-dark btn-login btn-pink text-uppercase font-weight-bold mb-2 mt-4",type:"submit",onClick:Y,children:"Publish Edition"}):1===d?Object(c.jsxs)("button",{className:"btn btn-lg btn-block  btn-outline-dark btn-login btn-pink text-uppercase font-weight-bold mb-2 mt-4",type:"submit",onClick:Y,children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===d&&Object(c.jsx)("button",{className:"btn btn-lg btn-block  btn-danger btn-login text-uppercase font-weight-bold mb-2 mt-4",type:"submit",onClick:Y,children:"Try Again"}),Object(c.jsxs)("div",{className:"form-group",children:[3===d&&Object(c.jsx)("div",{className:"alert alert-danger mt-2",children:h}),2===d&&Object(c.jsx)("div",{className:"alert alert-success mt-2",children:"Yay! The edition was published!"}),1===d&&Object(c.jsx)("div",{className:"alert alert-warning mt-2",children:"Please bare with me. This could take a while."})]})]})};var Z=function(){return s.a.useEffect((function(){y.a.get("https://thepc-bknd.onrender.com/api/edition",{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}),[]),Object(c.jsx)("h1",{children:"Old Editions"})};var $=function(e){var t=Object(n.useState)(!0),a=Object(r.a)(t,2),l=a[0],i=a[1],o=Object(n.useState)(),d=Object(r.a)(o,2),b=d[0],j=d[1],m=Object(n.useState)(),h=Object(r.a)(m,2),u=h[0],p=h[1],x=Object(n.useState)(!0),g=Object(r.a)(x,2),O=g[0],f=g[1];return s.a.useEffect((function(){y.a.get("https://catfact.ninja/fact?max_length=240",{headers:{Accept:"application/json"}}).then((function(e){p(e.data.fact)}))}),[]),s.a.useEffect((function(){O&&y.a.get("https://thepc-bknd.onrender.com/api/articles/list?sortBy=createdAt:desc",{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){console.log(e.data),j(e.data),i(!1),f(!1)})).catch((function(e){i(!1),f(!1)}))}),[]),Object(c.jsxs)("div",{className:"container",children:[l&&Object(c.jsxs)("div",{children:[Object(c.jsx)("h3",{children:"While you wait, did you know that"}),Object(c.jsx)("br",{}),Object(c.jsx)("h6",{style:{width:"50%"},children:u}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{className:"container-articles",children:Object(c.jsx)("div",{className:"loader",children:Object(c.jsx)(B.a,{type:"TailSpin",color:"#ff1e56",height:100,width:100,timeout:3e4})})})]}),!l&&Object(c.jsx)(G,{articlesProps:b,valid:e.valid})]})};var ee=function(){var e=s.a.useState(C.a.get("token")),t=Object(r.a)(e,2),a=t[0],n=t[1];return s.a.useEffect((function(){y.a.post("https://thepc-bknd.onrender.com/api/users/logout",P.a.stringify({}),{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){C.a.remove("id"),C.a.remove("name"),C.a.remove("token"),C.a.remove("onb"),n("")})).catch((function(e){console.log(e)}))}),[]),""!==a?Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Signing you out! See you soon"}),Object(c.jsx)(B.a,{type:"TailSpin",color:"#ff1e56",height:100,width:100,timeout:3e4})]}):Object(c.jsx)(d.a,{to:"/"})};var te=function(e){var t=e.page;return Object(c.jsxs)("main",{role:"main",className:"col-md-9 ml-sm-auto col-lg-10 px-md-4 mb-5 mt-3",children:[Object(c.jsx)("div",{className:"border-bottom mb-3 ",children:Object(c.jsx)("h3",{className:"page-title",children:e.page?N.a.capitalize(t):"Home"})}),Object(c.jsxs)("div",{children:[void 0===t&&Object(c.jsx)(S,{}),"extras"===t&&Object(c.jsx)(U,{}),"all articles"===t&&Object(c.jsx)(X,{valid:e.valid}),"create edition"===t&&Object(c.jsx)(K,{}),"new article"===t&&Object(c.jsx)(J,{}),"previous editions"===t&&Object(c.jsx)(Z,{}),"your articles"===t&&Object(c.jsx)($,{valid:e.valid}),"signout"===t&&Object(c.jsx)(ee,{})]})]})};a(103);var ae=function(e){var t=s.a.useState(0),a=Object(r.a)(t,2),n=a[0],l=a[1],i=s.a.useState(),o=Object(r.a)(i,2),d=o[0],b=o[1],j=s.a.useState(),m=Object(r.a)(j,2),h=m[0],u=(m[1],s.a.useState(0)),p=Object(r.a)(u,2),x=p[0],g=p[1];function O(e){l(e)}return s.a.useEffect((function(){"admin"===e.admin?b(!0):b(!1)}),[e.admin]),s.a.useEffect((function(){1===x&&y.a.patch("https://thepc-bknd.onrender.com/api/onboard/",P.a.stringify({}),{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){console.log(e),C.a.set("onb","true"),g(2)})).catch((function(e){g(3)}))}),[x]),2!==x?Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",style:{backgroundColor:"rgb(30,30,30)"},children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-9 col-lg-8 mx-auto",children:0===n?Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("h1",{className:"login-heading mb-4 onb-heading",children:"Welcome to TWE"}),Object(c.jsx)("p",{className:"onboard-desc",children:"The dashboard is our treasury of articles, the last step before it gets published. It is the place where you upload your work for your Editor-in-Chief to approve. You also get to view the articles written by you and your peers and give and receive feedback."}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return O(1)},children:"Proceed"}),Object(c.jsx)("div",{className:"form-label-group text-center"})]})}):1===n?Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("h1",{className:"login-heading mb-4 onb-heading",children:"Submit an article"}),Object(c.jsxs)("p",{className:"onboard-desc",children:["This is the page where you upload your article. Follow these steps to submit your article:- ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"1. Choose your category and Article title. ",Object(c.jsx)("br",{}),"2. Paste your article and add the collaborating author.",Object(c.jsx)("br",{}),"3. Upload a picture related to the article. ",Object(c.jsx)("br",{}),"You\u2019re good to go!"]}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return O(2)},children:"Proceed"}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-outline btn-block btn-login text-uppercase font-weight-bold mb-2",onClick:function(){return O(0)},children:"Back"}),Object(c.jsx)("div",{className:"form-label-group text-center"})]})}):2===n?Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("h1",{className:"login-heading mb-4 onb-heading",children:"View an article"}),Object(c.jsxs)("p",{className:"onboard-desc",children:["This is the page where you can view your previous article and find out if your current piece is approved or not. ",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"Click on an article title to view ",Object(c.jsx)("br",{}),Object(c.jsx)(D.a,{})," - Edit article",Object(c.jsx)("br",{}),Object(c.jsx)(V.a,{})," - Comment on article",Object(c.jsx)("br",{}),Object(c.jsx)(H.a,{})," - Delete article ",Object(c.jsx)("br",{})," ",Object(c.jsx)("br",{}),"To view your peers' work, you can check out the 'All Articles' page."]}),d?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return O(3)},children:"Proceed"}):1===x?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return g(1)},children:"Get Started"}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-outline btn-block btn-login text-uppercase font-weight-bold mb-2",onClick:function(){return O(1)},children:"Back"}),Object(c.jsx)("div",{className:"form-label-group text-center",children:h})]})}):3===n?Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("h1",{className:"login-heading mb-4 onb-heading",children:"Approve/Reject Articles"}),Object(c.jsxs)("p",{className:"onboard-desc",children:["As Editor-in-Chief you are responsible for approving/rejecting articles submitted by other authors.",Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"From the menu panel, ",Object(c.jsx)("br",{}),"Click ",Object(c.jsx)(R.a,{})," to Approve ",Object(c.jsx)("br",{}),"Click ",Object(c.jsx)(L.a,{})," to Reject ",Object(c.jsx)("br",{}),"Only articles that have been approved can be added to an edition to be published."]}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return O(4)},children:"Proceed"}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-outline btn-block btn-login text-uppercase font-weight-bold mb-2",onClick:function(){return O(2)},children:"Back"}),Object(c.jsx)("div",{className:"form-label-group text-center"})]})}):Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("h1",{className:"login-heading mb-4 onb-heading",children:"Publish an Edition"}),Object(c.jsxs)("p",{className:"onboard-desc",children:["1. Enter the edition details ",Object(c.jsx)("br",{}),"2. Add the HoV link ",Object(c.jsx)("br",{}),"3. Click to select/de-select articles from the list"," ",Object(c.jsx)("br",{}),"4. Click Publish Edition ",Object(c.jsx)("br",{})]}),1===x?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2 mt-5",onClick:function(){return g(1)},children:"Get Started"}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-outline btn-block btn-login text-uppercase font-weight-bold mb-2",onClick:function(){return O(3)},children:"Back"}),Object(c.jsx)("div",{className:"form-label-group text-center"})]})})})})})})})]})}):Object(c.jsx)(ce,{})};var ce=function(){var e=Object(d.g)().page,t=Object(n.useState)(),a=Object(r.a)(t,2),l=a[0],i=a[1];return s.a.useEffect((function(){y.a.post("https://thepc-bknd.onrender.com/api/check/auth",P.a.stringify({}),{headers:{Authorization:"Bearer "+C.a.get("token")}}).then((function(e){!function(e){!1===e.admin?i("true"):!0===e.admin?i("admin"):i("false")}(e.data)}))}),[]),C.a.get("token")?"false"===C.a.get("onb")?Object(c.jsx)(ae,{admin:l}):Object(c.jsxs)("div",{className:"",children:[Object(c.jsx)(b,{}),Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsx)(f,{page:e,valid:l}),Object(c.jsx)(te,{page:e,valid:l})]})})]}):Object(c.jsx)(d.a,{to:"/login"})},ne=a(121);var se=function(e){var t=Object(n.useState)("Error"),a=Object(r.a)(t,2),s=a[0],l=a[1],i=Object(n.useState)({email:"",password:""}),o=Object(r.a)(i,2),b=o[0],j=o[1],m=Object(n.useState)({name:"",email:"",password:"",confirm:""}),h=Object(r.a)(m,2),u=h[0],p=h[1],x=Object(n.useState)(0),g=Object(r.a)(x,2),O=g[0],f=g[1];function v(t){var a=t.target.name,c=t.target.value;"login"===e.type?j((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(E.a)({},a,c))})):"register"===e.type&&p((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(E.a)({},a,c))}))}function k(e,t,a,c){C.a.set("id",e),C.a.set("name",t),C.a.set("token",a),C.a.set("onb",c)}function w(t){f(1),t.preventDefault(),"register"===e.type?(u.password=z()(u.password),y.a.post("https://thepc-bknd.onrender.com/api/users/signup",P.a.stringify(u),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){201===e.status&&(console.log(e.data),k(e.data.newUser._id,e.data.newUser.name,e.data.token,e.data.newUser.onboarding),f(2)),400===e.status&&(f(3),l(s.body.message))})).catch((function(e){console.log(e),f(3)}))):"login"===e.type&&(b.password=z()(b.password),console.log(b),y.a.post("https://thepc-bknd.onrender.com/api/users/login",P.a.stringify(b),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),200===e.status&&(console.log(e.data),k(e.data.userFound._id,e.data.userFound.name,e.data.token,e.data.userFound.onboarding),f(2)),400===e.status&&(f(3),console.log(e),l(e.body.errorMessage))})).catch((function(e){f(3),console.log(e)})))}return 2===O?Object(c.jsx)(d.a,{to:"/dashboard"}):Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsxs)("div",{className:"col-md-9 col-lg-8 mx-auto",children:["login"===e.type&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)("h1",{children:[" ",Object(c.jsx)(ne.a,{className:"mb-2 display-4"})]}),Object(c.jsx)("h1",{className:"login-heading mb-4",children:Object(c.jsx)("strong",{children:b.email?N.a.truncate(b.email,{separator:/@/,length:18}):"Hey, it's you again!"})})," ",200===O&&Object(c.jsxs)("h4",{className:"text-success mb-4",children:["Sign in successful! ",b.email]}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"email",name:"email",id:"inputEmailLogin",className:"form-control",placeholder:"Email address",autoFocus:!0,onChange:v}),Object(c.jsx)("label",{htmlFor:"inputEmailLogin",children:"Email address"})]}),Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"password",name:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:v}),Object(c.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),0===O?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:"Sign in"}):1===O?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===O&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:"Try Again"})," ",Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("a",{className:"small",href:"/register",children:"Create an account!"}),"\xa0\xa0",Object(c.jsx)("a",{className:"small",href:"/reset",children:"Forgot Password"})]}),3===O&&Object(c.jsx)("div",{className:"alert alert-danger",children:s}),Object(c.jsx)("div",{className:"form-label-group text-center",children:Object(c.jsxs)("p",{className:"text-dark",style:{fontFamily:"Open Sans"},children:["\xa9 2023 THEPC - VIT. All Rights Reserved."," ",Object(c.jsx)("br",{})," v2.0.b0.1"]})})]})]}),"register"===e.type&&Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h1",{className:"login-heading mb-4",children:Object(c.jsxs)("strong",{children:["Nice to meet you",u.name&&", "+u.name,"!"]})}),Object(c.jsx)("h4",{className:"login-heading mb-4",children:"Create an account to get started"}),Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"text",name:"name",id:"inputName",className:"form-control",placeholder:"Name",autoFocus:!0,onChange:v}),Object(c.jsx)("label",{htmlFor:"inputName",children:"Name"})]}),Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"email",name:"email",id:"inputEmailLogin",className:"form-control",placeholder:"Email address",onChange:v}),Object(c.jsx)("label",{htmlFor:"inputEmailLogin",children:"Email address"})]}),Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"password",name:"password",id:"inputPassword",className:"form-control",placeholder:"Password",onChange:v}),Object(c.jsx)("label",{htmlFor:"inputPassword",children:"Password"})]}),Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"password",name:"confirm",id:"inputPasswordCnf",className:"form-control",placeholder:"Confirm Password",onChange:v}),Object(c.jsx)("label",{htmlFor:"inputPasswordCnf",children:"Confirm Password"})]}),0===O?Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:"Create Account"}):1===O?Object(c.jsxs)("button",{className:"btn btn-lg btn-outline-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:[Object(c.jsx)(B.a,{type:"Audio",color:"#fff",height:20,width:20})," "]}):3===O&&Object(c.jsx)("button",{className:"btn btn-lg btn-danger btn-block btn-login text-uppercase font-weight-bold mb-2",type:"submit",onClick:w,children:"Try Again"}),Object(c.jsxs)("div",{className:"text-center",children:[Object(c.jsx)("a",{className:"small",href:"/login",children:"Sign In to existing account!"}),Object(c.jsxs)("p",{className:"text-dark",style:{fontFamily:"Open Sans"},children:["\xa9 2023 THEPC - VIT. All Rights Reserved."," ",Object(c.jsx)("br",{})," v2.0.b0.1"]})]})]})]})]})})})})})]})})};var le=function(){return Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-9 col-lg-8 mx-auto",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("center",{children:[Object(c.jsxs)("h1",{children:[" ",Object(c.jsx)(ne.a,{className:"mb-2 display-3"})]}),Object(c.jsx)("h1",{className:"login-heading mb-4",children:"TWE Online"})]}),Object(c.jsx)("a",{href:"/register",style:{textDecoration:"none"},children:Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",children:"Create an account"})}),Object(c.jsx)("a",{href:"/login",style:{textDecoration:"none"},children:Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",children:"Sign in"})}),Object(c.jsx)("div",{className:"form-label-group text-center",children:Object(c.jsxs)("p",{className:"text-dark",style:{fontFamily:"Open Sans"},children:["\xa9 2023 THEPC - VIT. All Rights Reserved. ",Object(c.jsx)("br",{})," ","v2.1"]})})]})})})})})})]})})};var ie=function(){var e=Object(n.useState)(""),t=Object(r.a)(e,2),a=t[0],s=t[1],l=Object(n.useState)(1),i=Object(r.a)(l,2),o=i[0],d=i[1],b=Object(n.useState)(""),j=Object(r.a)(b,2),m=j[0],h=j[1];return 1==o?Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-9 col-lg-8 mx-auto",children:Object(c.jsxs)("div",{children:[Object(c.jsxs)("center",{children:[Object(c.jsxs)("h1",{children:[" ",Object(c.jsx)(ne.a,{className:"mb-2 display-3"})]}),Object(c.jsx)("h1",{className:"login-heading mb-4",children:"Reset Password"})]}),Object(c.jsxs)("div",{className:"form-label-group",children:[Object(c.jsx)("input",{type:"email",name:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",autoFocus:!0,onChange:function(e){var t=e.target.value;s(t)}}),Object(c.jsx)("label",{htmlFor:"inputEmail",children:"Email address"})]}),Object(c.jsx)("button",{className:"btn btn-lg btn-dark btn-block btn-login btn-blue text-uppercase font-weight-bold mb-2",onClick:function(e){e.preventDefault(),y.a.post("https://thepc-bknd.onrender.com/api/reset/",P.a.stringify({email:a}),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){console.log(e),200===e.status&&(console.log(e.data),d(2)),400===e.status&&(d(3),console.log(e),h(e.message))})).catch((function(e){d(3),console.log(e)}))},children:"Send Password Reset Link"}),Object(c.jsx)("div",{className:"form-label-group text-center",children:Object(c.jsxs)("p",{className:"text-dark",style:{fontFamily:"Open Sans"},children:["\xa9 2023 THEPC - VIT. All Rights Reserved. ",Object(c.jsx)("br",{})," ","v2.0.b0.1"]})})]})})})})})})]})}):2==o?Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-9 col-lg-8 mx-auto",children:Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsxs)("h1",{children:[" ",Object(c.jsx)(ne.a,{className:"mb-2 display-3"})]}),Object(c.jsx)("h1",{className:"login-heading mb-4",children:"Check your email for the password reset link."})]})})})})})})})]})}):3==o?Object(c.jsx)("div",{className:"container-fluid",children:Object(c.jsxs)("div",{className:"row no-gutter",children:[Object(c.jsx)("div",{className:"d-none d-md-flex col-md-4 col-lg-6 bg-image"}),Object(c.jsx)("div",{className:"col-md-8 col-lg-6",children:Object(c.jsx)("div",{className:"login d-flex align-items-center py-5",children:Object(c.jsx)("div",{className:"container",children:Object(c.jsx)("div",{className:"row",children:Object(c.jsx)("div",{className:"col-md-9 col-lg-8 mx-auto",children:Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsxs)("h1",{children:[" ",Object(c.jsx)(ne.a,{className:"mb-2 display-3"})]}),Object(c.jsx)("h1",{className:"login-heading mb-4",children:m})]})})})})})})})]})}):void 0};var re=function(){var e=s.a.useState(navigator.onLine),t=Object(r.a)(e,2),a=t[0];return t[1],a?Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(o.a,{basename:"/twev2",children:Object(c.jsxs)(d.d,{children:[Object(c.jsx)(d.b,{exact:!0,path:"/",children:Object(c.jsx)(le,{})}),Object(c.jsx)(d.b,{path:"/login",children:Object(c.jsx)(se,{type:"login"})}),Object(c.jsx)(d.b,{path:"/register",children:Object(c.jsx)(se,{type:"register"})}),Object(c.jsx)(d.b,{path:"/reset",children:Object(c.jsx)(ie,{})}),Object(c.jsx)(d.b,{path:"/dashboard/:page",children:Object(c.jsx)(ce,{})}),Object(c.jsx)(d.b,{path:"/dashboard",children:Object(c.jsx)(ce,{})}),Object(c.jsx)(d.b,{})]})})}):Object(c.jsx)("div",{className:"container container-offline",children:Object(c.jsx)("div",{children:Object(c.jsxs)("center",{children:[Object(c.jsx)("img",{src:"../img/twe_logo.png",alt:"The Weekly Edge Logo"}),Object(c.jsx)("h1",{children:"Your browser appears to be offline!"}),Object(c.jsxs)("h4",{children:["You must have an active internet ",Object(c.jsx)("br",{})," connection to use The Weekly Edge"]})]})})})};i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(re,{})}),document.getElementById("root"))},26:function(e,t,a){},40:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},56:function(e,t,a){},97:function(e,t,a){}},[[104,1,2]]]);
//# sourceMappingURL=main.b9bb629e.chunk.js.map